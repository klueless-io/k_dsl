<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="../timeline.css" />
  </head>
  <body>

    <pre>
      [{"date":"3/2","time":"6:11pm","author":"David Cruwys","message":"Hi Julia, I will there, I am doing a kizoomba class from 9-10 and then be doing social dancing, see you tonight","date_nice":"2nd Mar","time_nice":"06/11"},{"date":"3/2","time":"8:37pm","author":"Julia Lesiuk Sawicki","message":"Great ??","date_nice":"2nd Mar","time_nice":"08/37"},{"date":"3/2","time":"11:28pm","author":"David Cruwys","message":"Hey Julia, looks like you had a great night.  Every time I saw you, you were on the dance floor .maybe we can dance another night. Julia Lesiuk Sawicki","date_nice":"2nd Mar","time_nice":"11/28"},{"date":"3/2","time":"11:35pm","author":"Julia Lesiuk Sawicki","message":"Yes defiantly, I had a ball, so many different styles, I have so much to learn, I look forward to the next time we see each other on the dance floor.oxo","date_nice":"2nd Mar","time_nice":"11/35"},{"date":"3/2","time":"11:35pm","author":"David Cruwys","message":"March 16","date_nice":"2nd Mar","time_nice":"11/35"},{"date":"3/16","time":"4:49pm","author":"David Cruwys","message":"Hey Julia, not sure when level 2 finishes, but if you get to Argyle early, just let me know, I'm going to be nearby\nMarch 20","date_nice":"16th Mar","time_nice":"04/49"},{"date":"3/20","time":"1:50pm","author":"Julia Lesiuk Sawicki","message":"Thank you for the dances David , I had a really fun time and appreciate, your tips and counting me through it helped me a lot. Got home and couldn't sleep until 3 am, I was thinking through all the different dances from last night. Does this happen to you? I look forward to the next dance with you and appreciate the help you are giving me . Julia","date_nice":"20th Mar","time_nice":"01/50"},{"date":"3/20","time":"2:50pm","author":"David Cruwys","message":"Your welcome Julia. I to still think about the dancing often while dreaming but not like when i first started. But I can relate to how you feel\nIf you ever what some dance tips or help,  just ask, I'm happy to help\nBut if all you want is fun dancing. Happy for that too","date_nice":"20th Mar","time_nice":"02/50"},{"date":"3/20","time":"2:57pm","author":"Julia Lesiuk Sawicki","message":"As an artist I'm happy, but never satisfied, Always finding ways to improve in any craft I undertake. Would love your help and how you helped last night was great.","date_nice":"20th Mar","time_nice":"02/57"},{"date":"3/20","time":"2:59pm","author":"David Cruwys","message":"Cool. Just seek me out at the dance venue's and especially when its quiet i will just do some training runs with you\nJust doing 1 or 2 songs with just training should be enough to advance you a fair bit\nThen take to the social floor with different people for practice\nMy phone is about to run out of charge. If i don't reply that is why","date_nice":"20th Mar","time_nice":"02/59"}]
    </pre>

    <div class="timeline2">
      <ul>
        <li>
          <div>
            <time>3/2</time> Hi Julia, I will there, I am doing a kizoomba class from 9-10 and then be doing social dancing, see you tonight
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/2</time> Great ??
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>Julia Lesiuk Sawicki</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/2</time> Hey Julia, looks like you had a great night.  Every time I saw you, you were on the dance floor .maybe we can dance another night. Julia Lesiuk Sawicki
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/2</time> Yes defiantly, I had a ball, so many different styles, I have so much to learn, I look forward to the next time we see each other on the dance floor.oxo
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>Julia Lesiuk Sawicki</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/2</time> March 16
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/16</time> Hey Julia, not sure when level 2 finishes, but if you get to Argyle early, just let me know, I&#x27;m going to be nearby
March 20
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/20</time> Thank you for the dances David , I had a really fun time and appreciate, your tips and counting me through it helped me a lot. Got home and couldn&#x27;t sleep until 3 am, I was thinking through all the different dances from last night. Does this happen to you? I look forward to the next dance with you and appreciate the help you are giving me . Julia
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>Julia Lesiuk Sawicki</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/20</time> Your welcome Julia. I to still think about the dancing often while dreaming but not like when i first started. But I can relate to how you feel
If you ever what some dance tips or help,  just ask, I&#x27;m happy to help
But if all you want is fun dancing. Happy for that too
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/20</time> As an artist I&#x27;m happy, but never satisfied, Always finding ways to improve in any craft I undertake. Would love your help and how you helped last night was great.
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>Julia Lesiuk Sawicki</span>
          </span>
        </li>
        <li>
          <div>
            <time>3/20</time> Cool. Just seek me out at the dance venue&#x27;s and especially when its quiet i will just do some training runs with you
Just doing 1 or 2 songs with just training should be enough to advance you a fair bit
Then take to the social floor with different people for practice
My phone is about to run out of charge. If i don&#x27;t reply that is why
          </div>
          <span class="time">
            <span>JUN, 17<sup>th</sup></span>
            <span>David Cruwys</span>
          </span>
        </li>
</ul>
    </div>
    <script>
      (function() {
			 
       'use strict';

       // define variables
       var timelines= document.querySelectorAll('.timeline2');
        
       function debounce(func, wait, immediate) {
         var timeout;
         return function() {
           var context = this, args = arguments;
           var later = function() {
             timeout = null;
             if (!immediate) func.apply(context, args);
           };
           var callNow = immediate && !timeout;
           clearTimeout(timeout);
           timeout = setTimeout(later, wait);
           if (callNow) func.apply(context, args);
         };
       }
       function callbackFunc() {
           var h,timeline, li,rect,parent_rect,i,items;
         for(h=0;h<timelines.length;h++){
             timeline=timelines[h];
             parent_rect=timeline.getBoundingClientRect();
              items = timeline.querySelectorAll(".timeline2 li");
           for (  i = 0; i < items.length; i++) {
             /*
             if (isElementInViewport(items[i])) {
             items[i].classList.add("in-view");				   
             }
             */
             li=items[i];
             rect = li.getBoundingClientRect();  
              
             if( (rect.bottom<=(parent_rect.top+(rect.height/2) ) ) || (rect.top >=(parent_rect.bottom-(rect.height/2)) ) ){
               //li.style['background']='red';
               li.classList.remove("in-view");
               
             }else{
               //li.style['background']='white';
               li.classList.add("in-view");
             }
              
           }
         }
       }
       var updateLayout =debounce(function(e) {

         // Does all the layout updating here
         callbackFunc();
         
       }, 500); // Maximum run of once per 500 milliseconds

       // listen for events
       window.addEventListener("load", callbackFunc);
       window.addEventListener("resize", updateLayout);
       window.addEventListener("scroll", callbackFunc);
       for(var h=0;h<timelines.length;h++){
           var  timeline=timelines[h];
         timeline.addEventListener("scroll",callbackFunc );
       }
       
      })();
    </script>
  </body>
</html>
