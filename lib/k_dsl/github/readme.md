This code needs to be in a Gem